----------------- No.37 -----------------
query : get real class of generic type

----Summary----
Byte Has An Extensive Use In Applet Development For Java Card. Because Cards Have Limited Resources Every Bit Of Memory Is Precious. By The Way Card Processors Have Limitations In Processing Of Integer Values. Int Type Support Is Optional And Java.Lang.String Is Not Supported So All Integer Operation And Data Storage Is Done By Byte And Short Variables And Arrays. As Integer Literals Are Of Int Type They Should Be Explicitly Cast To Byte Or Short In Whole Code. Communication With Card Goes Through Apdu Commands That Is Handed To Applet As An Array Of Byte S That Should Be Decomposed To Byte S To Decode Command Class Instruction And Parameters. Looking At The Following Code You See How Much Byte And Short Types Are Important To Java Card Development.
It Will Not Work. You Get Method Getclass Which Basically Has Return Type Class Commontools And After That You Are Calling Getactualtypearguments Which Will Return Class Commontools Because Typeargument Is Commontools.
It Seems That Java Is Unable To Process The Cast With An Inferred Type However If You Use The Class.Cast Method The Call To Get Throws An Exception As Expected.
You Do Not Get A Classcastexception Because The Context In Which You Are Returning The Value From The Map Does Not Require The Compiler To Perform A Check At This Point As It Is Equivalent To Assigning The Value To A Variable Of Type Object See Rgettman Is Answer .
It Is Instructive To Consider What The Class Looks Like After Removing Type Parameters Type Erasure.
----------------------------------------